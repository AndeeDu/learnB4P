{
  "hash": "32075c9e27472da976401743985f12df",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"08 - Sensitivity analysis and other goods\"\nauthor: \"Stefano Coretta\"\nformat:\n  mono-light-revealjs:\n    theme: [default, custom.scss]\n    history: false\nfilters:\n  - tachyonsextra\nexecute:\n  echo: true\nknitr:\n  opts_chunk: \n    fig-align: center\n---\n\n\n\n\n## Set order of levels\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntoken_measures <- token_measures |> \n  mutate(\n    c2_phonation = factor(c2_phonation, levels = c(\"voiceless\", \"voiced\"))\n  )\n```\n:::\n\n\n## Model priors\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm_7_priors <- c(\n  prior(normal(4.45, 0.55), class = b),\n  prior(normal(0, 0.5), class = b, coef = sspeech_rate_c_1),\n  prior(normal(0, 0.1), class = sigma),\n  prior(normal(0, 0.1), class = sd),\n  prior(normal(0, 0.1), class = sds),\n  prior(lkj(2), class = cor)\n)\n```\n:::\n\n\n## Fit model\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm_8 <- brm(\n  v1_duration ~\n    0 + c2_phonation:vowel:language + s(speech_rate_c, k = 3) +\n    (0 + c2_phonation:vowel | speaker),\n  data = token_measures,\n  family = lognormal,\n  prior = m_7_priors,\n  seed = my_seed,\n  cores = 4,\n  file = \"data/cache/m_8\"\n)\n```\n:::\n\n\n## Model summary\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nsummary(m_8, prob = 0.8)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n Family: lognormal \n  Links: mu = identity; sigma = identity \nFormula: v1_duration ~ 0 + c2_phonation:vowel:language + s(speech_rate_c, k = 3) + (0 + c2_phonation:vowel | speaker) \n   Data: token_measures (Number of observations: 1342) \n  Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;\n         total post-warmup draws = 4000\n\nSmoothing Spline Hyperparameters:\n                      Estimate Est.Error l-80% CI u-80% CI Rhat Bulk_ESS\nsds(sspeech_rate_c_1)     0.18      0.06     0.11     0.26 1.00     4178\n                      Tail_ESS\nsds(sspeech_rate_c_1)     2482\n\nMultilevel Hyperparameters:\n~speaker (Number of levels: 17) \n                                                               Estimate\nsd(c2_phonationvoiceless:vowela)                                   0.11\nsd(c2_phonationvoiced:vowela)                                      0.11\nsd(c2_phonationvoiceless:vowelo)                                   0.10\nsd(c2_phonationvoiced:vowelo)                                      0.10\nsd(c2_phonationvoiceless:vowelu)                                   0.12\nsd(c2_phonationvoiced:vowelu)                                      0.10\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowela)        0.60\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelo)     0.72\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelo)        0.54\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelo)        0.62\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelo)           0.80\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelo)        0.64\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelu)     0.52\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelu)        0.22\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiceless:vowelu)     0.49\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiceless:vowelu)        0.26\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelu)        0.46\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelu)           0.46\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelu)        0.51\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiced:vowelu)           0.47\ncor(c2_phonationvoiceless:vowelu,c2_phonationvoiced:vowelu)        0.63\n                                                               Est.Error\nsd(c2_phonationvoiceless:vowela)                                    0.02\nsd(c2_phonationvoiced:vowela)                                       0.02\nsd(c2_phonationvoiceless:vowelo)                                    0.02\nsd(c2_phonationvoiced:vowelo)                                       0.02\nsd(c2_phonationvoiceless:vowelu)                                    0.02\nsd(c2_phonationvoiced:vowelu)                                       0.02\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowela)         0.16\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelo)      0.15\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelo)         0.17\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelo)         0.16\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelo)            0.12\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelo)         0.16\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelu)      0.18\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelu)         0.19\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiceless:vowelu)      0.18\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiceless:vowelu)         0.20\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelu)         0.20\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelu)            0.18\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelu)         0.19\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiced:vowelu)            0.18\ncor(c2_phonationvoiceless:vowelu,c2_phonationvoiced:vowelu)         0.17\n                                                               l-80% CI\nsd(c2_phonationvoiceless:vowela)                                   0.09\nsd(c2_phonationvoiced:vowela)                                      0.09\nsd(c2_phonationvoiceless:vowelo)                                   0.08\nsd(c2_phonationvoiced:vowelo)                                      0.09\nsd(c2_phonationvoiceless:vowelu)                                   0.09\nsd(c2_phonationvoiced:vowelu)                                      0.08\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowela)        0.39\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelo)     0.52\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelo)        0.30\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelo)        0.39\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelo)           0.64\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelo)        0.42\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelu)     0.28\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelu)       -0.03\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiceless:vowelu)     0.25\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiceless:vowelu)       -0.01\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelu)        0.19\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelu)           0.22\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelu)        0.26\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiced:vowelu)           0.22\ncor(c2_phonationvoiceless:vowelu,c2_phonationvoiced:vowelu)        0.40\n                                                               u-80% CI Rhat\nsd(c2_phonationvoiceless:vowela)                                   0.13 1.00\nsd(c2_phonationvoiced:vowela)                                      0.14 1.00\nsd(c2_phonationvoiceless:vowelo)                                   0.12 1.00\nsd(c2_phonationvoiced:vowelo)                                      0.13 1.00\nsd(c2_phonationvoiceless:vowelu)                                   0.15 1.00\nsd(c2_phonationvoiced:vowelu)                                      0.13 1.00\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowela)        0.79 1.00\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelo)     0.89 1.00\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelo)        0.75 1.00\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelo)        0.81 1.00\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelo)           0.92 1.00\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelo)        0.82 1.00\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelu)     0.73 1.00\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelu)        0.47 1.00\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiceless:vowelu)     0.71 1.00\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiceless:vowelu)        0.51 1.00\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelu)        0.70 1.00\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelu)           0.68 1.00\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelu)        0.74 1.00\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiced:vowelu)           0.69 1.00\ncor(c2_phonationvoiceless:vowelu,c2_phonationvoiced:vowelu)        0.82 1.00\n                                                               Bulk_ESS\nsd(c2_phonationvoiceless:vowela)                                   1502\nsd(c2_phonationvoiced:vowela)                                      2014\nsd(c2_phonationvoiceless:vowelo)                                   1800\nsd(c2_phonationvoiced:vowelo)                                      2171\nsd(c2_phonationvoiceless:vowelu)                                   2161\nsd(c2_phonationvoiced:vowelu)                                      2074\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowela)        1450\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelo)     1852\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelo)        2233\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelo)        1543\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelo)           2395\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelo)        2408\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelu)     1901\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelu)        2377\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiceless:vowelu)     2686\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiceless:vowelu)        2392\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelu)        2037\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelu)           2675\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelu)        2345\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiced:vowelu)           2502\ncor(c2_phonationvoiceless:vowelu,c2_phonationvoiced:vowelu)        3032\n                                                               Tail_ESS\nsd(c2_phonationvoiceless:vowela)                                   2266\nsd(c2_phonationvoiced:vowela)                                      2819\nsd(c2_phonationvoiceless:vowelo)                                   2725\nsd(c2_phonationvoiced:vowelo)                                      2923\nsd(c2_phonationvoiceless:vowelu)                                   2546\nsd(c2_phonationvoiced:vowelu)                                      2328\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowela)        2503\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelo)     2691\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelo)        2907\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelo)        2426\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelo)           2928\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelo)        2799\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiceless:vowelu)     2492\ncor(c2_phonationvoiced:vowela,c2_phonationvoiceless:vowelu)        3128\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiceless:vowelu)     3158\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiceless:vowelu)        3273\ncor(c2_phonationvoiceless:vowela,c2_phonationvoiced:vowelu)        2580\ncor(c2_phonationvoiced:vowela,c2_phonationvoiced:vowelu)           3000\ncor(c2_phonationvoiceless:vowelo,c2_phonationvoiced:vowelu)        2605\ncor(c2_phonationvoiced:vowelo,c2_phonationvoiced:vowelu)           2967\ncor(c2_phonationvoiceless:vowelu,c2_phonationvoiced:vowelu)        3397\n\nRegression Coefficients:\n                                             Estimate Est.Error l-80% CI\nc2_phonationvoiceless:vowela:languageItalian     4.71      0.03     4.67\nc2_phonationvoiced:vowela:languageItalian        4.85      0.04     4.80\nc2_phonationvoiceless:vowelo:languageItalian     4.66      0.03     4.62\nc2_phonationvoiced:vowelo:languageItalian        4.81      0.03     4.77\nc2_phonationvoiceless:vowelu:languageItalian     4.48      0.04     4.43\nc2_phonationvoiced:vowelu:languageItalian        4.51      0.04     4.46\nc2_phonationvoiceless:vowela:languagePolish      4.50      0.05     4.44\nc2_phonationvoiced:vowela:languagePolish         4.61      0.05     4.55\nc2_phonationvoiceless:vowelo:languagePolish      4.38      0.05     4.32\nc2_phonationvoiced:vowelo:languagePolish         4.46      0.05     4.40\nc2_phonationvoiceless:vowelu:languagePolish      4.16      0.05     4.10\nc2_phonationvoiced:vowelu:languagePolish         4.24      0.05     4.18\nsspeech_rate_c_1                                -0.12      0.01    -0.13\n                                             u-80% CI Rhat Bulk_ESS Tail_ESS\nc2_phonationvoiceless:vowela:languageItalian     4.76 1.00     1045     1792\nc2_phonationvoiced:vowela:languageItalian        4.90 1.00     1354     2070\nc2_phonationvoiceless:vowelo:languageItalian     4.70 1.00     1307     1657\nc2_phonationvoiced:vowelo:languageItalian        4.86 1.00     1475     1970\nc2_phonationvoiceless:vowelu:languageItalian     4.53 1.00     1375     2389\nc2_phonationvoiced:vowelu:languageItalian        4.55 1.00     1379     2182\nc2_phonationvoiceless:vowela:languagePolish      4.56 1.00     1247     1846\nc2_phonationvoiced:vowela:languagePolish         4.67 1.00     1423     1993\nc2_phonationvoiceless:vowelo:languagePolish      4.44 1.00     1490     2196\nc2_phonationvoiced:vowelo:languagePolish         4.52 1.00     1630     2388\nc2_phonationvoiceless:vowelu:languagePolish      4.23 1.00     1660     2452\nc2_phonationvoiced:vowelu:languagePolish         4.30 1.00     1730     2010\nsspeech_rate_c_1                                -0.11 1.00     3838     2954\n\nFurther Distributional Parameters:\n      Estimate Est.Error l-80% CI u-80% CI Rhat Bulk_ESS Tail_ESS\nsigma     0.14      0.00     0.13     0.14 1.00     5483     2676\n\nDraws were sampled using sampling(NUTS). For each parameter, Bulk_ESS\nand Tail_ESS are effective sample size measures, and Rhat is the potential\nscale reduction factor on split chains (at convergence, Rhat = 1).\n```\n\n\n:::\n:::\n\n\n## Constant (aka fixed) coefficients\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfixef(m_8)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                               Estimate   Est.Error       Q2.5\nc2_phonationvoiceless:vowela:languageItalian  4.7122450 0.034916715  4.6454676\nc2_phonationvoiced:vowela:languageItalian     4.8514845 0.036926284  4.7784278\nc2_phonationvoiceless:vowelo:languageItalian  4.6629440 0.033175368  4.5971891\nc2_phonationvoiced:vowelo:languageItalian     4.8142018 0.034575362  4.7453693\nc2_phonationvoiceless:vowelu:languageItalian  4.4764707 0.040190531  4.3961912\nc2_phonationvoiced:vowelu:languageItalian     4.5080261 0.036089181  4.4351499\nc2_phonationvoiceless:vowela:languagePolish   4.4995275 0.047867217  4.4073739\nc2_phonationvoiced:vowela:languagePolish      4.6093928 0.049089497  4.5083197\nc2_phonationvoiceless:vowelo:languagePolish   4.3751811 0.046151652  4.2867708\nc2_phonationvoiced:vowelo:languagePolish      4.4604986 0.045483803  4.3705579\nc2_phonationvoiceless:vowelu:languagePolish   4.1615771 0.051198575  4.0642669\nc2_phonationvoiced:vowelu:languagePolish      4.2408769 0.046027346  4.1538028\nsspeech_rate_c_1                             -0.1223993 0.008814521 -0.1390819\n                                                  Q97.5\nc2_phonationvoiceless:vowela:languageItalian  4.7809149\nc2_phonationvoiced:vowela:languageItalian     4.9240641\nc2_phonationvoiceless:vowelo:languageItalian  4.7275417\nc2_phonationvoiced:vowelo:languageItalian     4.8857720\nc2_phonationvoiceless:vowelu:languageItalian  4.5537840\nc2_phonationvoiced:vowelu:languageItalian     4.5776827\nc2_phonationvoiceless:vowela:languagePolish   4.5940803\nc2_phonationvoiced:vowela:languagePolish      4.7036358\nc2_phonationvoiceless:vowelo:languagePolish   4.4669873\nc2_phonationvoiced:vowelo:languagePolish      4.5494635\nc2_phonationvoiceless:vowelu:languagePolish   4.2662212\nc2_phonationvoiced:vowelu:languagePolish      4.3321339\nsspeech_rate_c_1                             -0.1047572\n```\n\n\n:::\n\n```{.r .cell-code}\n# try ranef(m_8) for varying aka random coefficients\n```\n:::\n\n\n## Constant coefficients tibble\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm_8_fix <- fixef(m_8) |> as_tibble(rownames = \"term\")\nm_8_fix\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 13 × 5\n   term                                         Estimate Est.Error   Q2.5  Q97.5\n   <chr>                                           <dbl>     <dbl>  <dbl>  <dbl>\n 1 c2_phonationvoiceless:vowela:languageItalian    4.71    0.0349   4.65   4.78 \n 2 c2_phonationvoiced:vowela:languageItalian       4.85    0.0369   4.78   4.92 \n 3 c2_phonationvoiceless:vowelo:languageItalian    4.66    0.0332   4.60   4.73 \n 4 c2_phonationvoiced:vowelo:languageItalian       4.81    0.0346   4.75   4.89 \n 5 c2_phonationvoiceless:vowelu:languageItalian    4.48    0.0402   4.40   4.55 \n 6 c2_phonationvoiced:vowelu:languageItalian       4.51    0.0361   4.44   4.58 \n 7 c2_phonationvoiceless:vowela:languagePolish     4.50    0.0479   4.41   4.59 \n 8 c2_phonationvoiced:vowela:languagePolish        4.61    0.0491   4.51   4.70 \n 9 c2_phonationvoiceless:vowelo:languagePolish     4.38    0.0462   4.29   4.47 \n10 c2_phonationvoiced:vowelo:languagePolish        4.46    0.0455   4.37   4.55 \n11 c2_phonationvoiceless:vowelu:languagePolish     4.16    0.0512   4.06   4.27 \n12 c2_phonationvoiced:vowelu:languagePolish        4.24    0.0460   4.15   4.33 \n13 sspeech_rate_c_1                               -0.122   0.00881 -0.139 -0.105\n```\n\n\n:::\n:::\n\n\n\n## Prior sensitivity analysis\n\n::: box-note\n- Method from Betancourt 2018, *Calibrating Model-Based Inferences and Decisions*.\n\n- Uses posterior shrinkage and posterior z-score of parameters.\n\n- Can be easily calculated from the prior and posteriors parameters.\n:::\n\n## Prior sensitivity analysis: code\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm_8_fix <- m_8_fix |> \n  mutate(\n    theta = c(rep(4.45, 12), 0),\n    sigma_prior = c(rep(0.55, 12), 0.5),\n    z = abs((Estimate - theta) / Est.Error),\n    s = 1 - (Est.Error^2 / sigma_prior^2)\n  )\nm_8_fix\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 13 × 9\n   term          Estimate Est.Error   Q2.5  Q97.5 theta sigma_prior      z     s\n   <chr>            <dbl>     <dbl>  <dbl>  <dbl> <dbl>       <dbl>  <dbl> <dbl>\n 1 c2_phonation…    4.71    0.0349   4.65   4.78   4.45        0.55  7.51  0.996\n 2 c2_phonation…    4.85    0.0369   4.78   4.92   4.45        0.55 10.9   0.995\n 3 c2_phonation…    4.66    0.0332   4.60   4.73   4.45        0.55  6.42  0.996\n 4 c2_phonation…    4.81    0.0346   4.75   4.89   4.45        0.55 10.5   0.996\n 5 c2_phonation…    4.48    0.0402   4.40   4.55   4.45        0.55  0.659 0.995\n 6 c2_phonation…    4.51    0.0361   4.44   4.58   4.45        0.55  1.61  0.996\n 7 c2_phonation…    4.50    0.0479   4.41   4.59   4.45        0.55  1.03  0.992\n 8 c2_phonation…    4.61    0.0491   4.51   4.70   4.45        0.55  3.25  0.992\n 9 c2_phonation…    4.38    0.0462   4.29   4.47   4.45        0.55  1.62  0.993\n10 c2_phonation…    4.46    0.0455   4.37   4.55   4.45        0.55  0.231 0.993\n11 c2_phonation…    4.16    0.0512   4.06   4.27   4.45        0.55  5.63  0.991\n12 c2_phonation…    4.24    0.0460   4.15   4.33   4.45        0.55  4.54  0.993\n13 sspeech_rate…   -0.122   0.00881 -0.139 -0.105  0           0.5  13.9   1.00 \n```\n\n\n:::\n:::\n\n\n\n## Prior sensitivity analysis graph\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlabels <- tibble(\n  s = c(0.25, 0.25, 0.75, 0.75),\n  z = c(1.25, 3.75, 1.25, 3.75),\n  term = c(\"Poorly identified\", \"Prior/Posterior\\nconflict\", \"Ideal\", \"Overfit\")\n)\n\nm_8_fix |> \n  ggplot(aes(s, z, label = term)) +\n  annotate(\"rect\", xmin = 0, ymin = 0, xmax = 0.5, ymax = 2.5, alpha = 0.5, fill = \"#e66101\") +\n  annotate(\"rect\", xmin = 0, ymin = 2.5, xmax = 0.5, ymax = Inf, alpha = 0.5, fill = \"#fdb863\") +\n  annotate(\"rect\", xmin = 0.5, ymin = 0, xmax = 1, ymax = 2.5, alpha = 0.5, fill = \"#b2abd2\") +\n  annotate(\"rect\", xmin = 0.5, ymin = 2.5, xmax = 1, ymax = Inf, alpha = 0.5, fill = \"#5e3c99\") +\n  geom_text(size = 2, nudge_x = -0.15) +\n  geom_point() +\n  geom_label(data = labels, colour = \"white\", fill = \"black\") +\n  xlim(0, 1)\n```\n\n::: {.cell-output-display}\n![](08_sensitive_files/figure-revealjs/prior-sens-plot-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Plotting posteriors\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(bayesplot)\n\nas.array(m_8) |> \n  mcmc_areas(regex_pars = \"b_\")\n```\n\n::: {.cell-output-display}\n![](08_sensitive_files/figure-revealjs/mcmc-areas-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Get posterior draws\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm_8_draws <- as_draws_df(m_8)\nm_8_draws\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A draws_df: 1000 iterations, 4 chains, and 141 variables\n   b_c2_phonationvoiceless:vowela:languageItalian\n1                                             4.7\n2                                             4.7\n3                                             4.8\n4                                             4.7\n5                                             4.8\n6                                             4.7\n7                                             4.7\n8                                             4.6\n9                                             4.7\n10                                            4.7\n   b_c2_phonationvoiced:vowela:languageItalian\n1                                          4.8\n2                                          4.9\n3                                          4.8\n4                                          4.9\n5                                          4.8\n6                                          4.9\n7                                          4.8\n8                                          4.8\n9                                          4.8\n10                                         4.8\n   b_c2_phonationvoiceless:vowelo:languageItalian\n1                                             4.6\n2                                             4.6\n3                                             4.7\n4                                             4.7\n5                                             4.7\n6                                             4.6\n7                                             4.6\n8                                             4.6\n9                                             4.7\n10                                            4.7\n   b_c2_phonationvoiced:vowelo:languageItalian\n1                                          4.8\n2                                          4.8\n3                                          4.8\n4                                          4.8\n5                                          4.8\n6                                          4.8\n7                                          4.8\n8                                          4.8\n9                                          4.8\n10                                         4.8\n   b_c2_phonationvoiceless:vowelu:languageItalian\n1                                             4.5\n2                                             4.4\n3                                             4.5\n4                                             4.5\n5                                             4.6\n6                                             4.4\n7                                             4.4\n8                                             4.4\n9                                             4.5\n10                                            4.5\n   b_c2_phonationvoiced:vowelu:languageItalian\n1                                          4.5\n2                                          4.5\n3                                          4.5\n4                                          4.5\n5                                          4.5\n6                                          4.5\n7                                          4.5\n8                                          4.5\n9                                          4.5\n10                                         4.5\n   b_c2_phonationvoiceless:vowela:languagePolish\n1                                            4.5\n2                                            4.6\n3                                            4.5\n4                                            4.4\n5                                            4.5\n6                                            4.4\n7                                            4.5\n8                                            4.5\n9                                            4.5\n10                                           4.5\n   b_c2_phonationvoiced:vowela:languagePolish\n1                                         4.6\n2                                         4.7\n3                                         4.5\n4                                         4.5\n5                                         4.6\n6                                         4.6\n7                                         4.6\n8                                         4.6\n9                                         4.6\n10                                        4.6\n# ... with 3990 more draws, and 133 more variables\n# ... hidden reserved variables {'.chain', '.iteration', '.draw'}\n```\n\n\n:::\n:::\n\n\n## Difference by language across all vowels\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nm_8_avg_diff <- m_8_draws |> \n  select(`b_c2_phonationvoiceless:vowela:languageItalian`:`b_c2_phonationvoiced:vowelu:languagePolish`, .draw) |> \n  pivot_longer(`b_c2_phonationvoiceless:vowela:languageItalian`:`b_c2_phonationvoiced:vowelu:languagePolish`) |> \n  separate(name, c(\"phonation\", \"vowel\", \"language\"), sep = \":\") |> \n  pivot_wider(names_from = phonation, values_from = value) |> \n  mutate(\n    diff = b_c2_phonationvoiced - b_c2_phonationvoiceless\n  ) |> \n  group_by(.draw, language) |> \n  summarise(\n    avg_diff = mean(diff)\n  )\nm_8_avg_diff\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 8,000 × 3\n# Groups:   .draw [4,000]\n   .draw language        avg_diff\n   <int> <chr>              <dbl>\n 1     1 languageItalian   0.0801\n 2     1 languagePolish    0.0642\n 3     2 languageItalian   0.159 \n 4     2 languagePolish    0.136 \n 5     3 languageItalian   0.0726\n 6     3 languagePolish    0.0279\n 7     4 languageItalian   0.0976\n 8     4 languagePolish    0.102 \n 9     5 languageItalian   0.0298\n10     5 languagePolish    0.0847\n# ℹ 7,990 more rows\n```\n\n\n:::\n:::\n\n\n## Plot the average difference across vowels\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](08_sensitive_files/figure-revealjs/m-8-avg-diff-plot-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Calculate average difference (ms)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\navg_comparisons(m_8, variables = \"c2_phonation\", by = \"language\", conf_level = 0.8)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n         Term                       Contrast language Estimate 10.0 % 90.0 %\n c2_phonation mean(voiced) - mean(voiceless)  Italian     13.5  12.10  14.87\n c2_phonation mean(voiced) - mean(voiceless)  Polish       7.4   6.07   8.67\n\nColumns: term, contrast, language, estimate, conf.low, conf.high, predicted_lo, predicted_hi, predicted, tmp_idx \nType:  response \n```\n\n\n:::\n:::\n\n\n## Calculate average difference (ratio)\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\navg_comparisons(m_8, variables = \"c2_phonation\", by = \"language\", conf_level = 0.8, comparison = \"ratio\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n         Term                       Contrast language Estimate 10.0 % 90.0 %\n c2_phonation mean(voiced) / mean(voiceless)  Italian     1.12   1.11   1.14\n c2_phonation mean(voiced) / mean(voiceless)  Polish      1.10   1.08   1.12\n\nColumns: term, contrast, language, estimate, conf.low, conf.high, predicted_lo, predicted_hi, predicted, tmp_idx \nType:  response \n```\n\n\n:::\n\n```{.r .cell-code}\navg_comparisons(m_8, variables = \"c2_phonation\", by = \"language\", conf_level = 0.8, comparison = \"ratio\", hypothesis = \"b2 = b1\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  Term Estimate  10.0 %   90.0 %\n b2=b1  -0.0241 -0.0459 -0.00142\n\nColumns: term, estimate, conf.low, conf.high \nType:  response \n```\n\n\n:::\n:::\n",
    "supporting": [
      "08_sensitive_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}